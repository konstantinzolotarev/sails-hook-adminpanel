mixin menuItem(menuItem)
  a.nav-link(href=menuItem.link)
    if menuItem.icon
      clr-icon(shape=menuItem.icon)  
    |  #{menuItem.title}


mixin navbar
  nav.sidenav
    section.sidenav-content
      - var i = 1;
      each group in locals.adminpanel.menuHelper.getGroups()
        section.nav-group.collapsible
          input(id="tabexample#{i}" type="checkbox")
          label(for="tabexample#{i++}") #{group.title || 'Dropdown'}
          ul.nav-list
            each menuItem in group.menues
              li
                +menuItem(menuItem)
      each menuItem in locals.adminpanel.menuHelper.getMenuItems()
        if (sails.adminpanel.havePermission(req, sails.config.adminpanel.instances[menuItem.instanceName], ''))
          +menuItem(menuItem)
